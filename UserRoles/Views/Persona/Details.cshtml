@model UserRoles.Models.ViewModels.PersonaDetailViewModel
@using UserRoles.Models.FormsViewModels
@{
    ViewData["Title"] = "Details";
    var type = ViewData["type"];
}

<div class="persona-details">
    <div class="container">
        <h2 class="h2-header h2-center">Details</h2>
        <div class="bordered-box">
            <div class="mb-2 row">
                @if (Model.Razonsocial == null)
                {
                    <div class="col-md-4">
                        <div class="font-weight-bold">Nombre: </div>
                    </div>
                    <div class="col-md-8">
                        <span>
                            @Model.FirstName
                        </span>

                        @if (Model.SecondFirstName != null)
                        {
                            <span> @Model.SecondFirstName </span>
                        }

                        <span> @Model.LastName </span>

                        @if (Model.SecondLastName != null)
                        {
                            <span> @Model.SecondLastName </span>
                        }
                    </div>
                }
                else
                {
                    <div class="col-md-4">
                        <div class="font-weight-bold">Razon Social: </div>
                    </div>
                    <div class="col-md-8">
                        <span>@Model.Razonsocial</span>
                    </div>
                }
            </div>
            <hr />
            <div class="mb-2 row">
                <div class="col-md-4 font-weight-bold">
                    Typo Cliente:
                </div>
                <div class="col-md-8">
                    @if (Model.ATM)
                    {
                        <span><i class="fas fa-desktop"></i> ATM </span>
                        <br />

                    }
                    @if (Model.Location)
                    {
                        <span><i class="fas fa-home"></i>  Location </span>
                        <br />
                    }
                    @if (Model.WorkingCapital)
                    {
                        <span><i class="fas fa-dollar-sign"></i> Working Capital </span>
                    }
                </div>
            </div>
            <hr />
            <div class="mb-2 row">
                <div class="col-md-4">
                    <div class="font-weight-bold">Address: </div>
                </div>
                <div class="col-md-8">
                    <span>@Model.Calle</span>
                    @if (Model.Numero != 0)
                    {
                        <span> @Model.Numero </span>
                    }
                </div>
            </div>
            <hr />
            @if (Model.Zipcode != 0)
            {
                <div class="mb-2 row">
                    <div class="col-md-4">
                        <div class="font-weight-bold">Zip Code:</div>
                    </div>
                    <div class="col-md-8">
                        <span> @Model.Zipcode </span>
                    </div>
                </div>
                <hr />
            }
            @if (Model.City != null)
            {
                <div class="mb-2">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="font-weight-bold">City: </div>
                        </div>
                        <div class="col-md-8">
                            <span>@Model.City</span>
                        </div>
                    </div>
                </div>
                <hr />
            }
            @if (Model.State != null)
            {
                <div class="mb-2">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="font-weight-bold">State: </div>
                        </div>
                        <div class="col-md-8">
                            <span>@Model.State</span>
                        </div>
                    </div>
                </div>
                <hr />
            }
            <div class="mb-2 row">
                <div class="col-md-4">
                    <div class="font-weight-bold">Email:</div>
                </div>
                <div class="col-md-8">
                    <span>@Model.Email</span>
                </div>
            </div>
            <hr />
            @if (Model.Web != null)
            {
                <div class="mb-2">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="font-weight-bold">Web: </div>
                        </div>
                        <div class="col-md-8">
                            <span>@Model.Web</span>
                        </div>
                    </div>
                </div>
                <hr />
            }
            <div class="mb-2 row">
                <div class="col-md-4">
                    <div class="font-weight-bold">Home Phone: </div>
                </div>
                <div class="col-md-8">
                    <span>@Model.Homephone</span>
                </div>
            </div>
            <hr />
            <div class="mb-2 row">
                <div class="col-md-4">
                    <div class="font-weight-bold">Cell Phone: </div>
                </div>
                <div class="col-md-8">
                    <span>@Model.Cellphone</span>
                </div>
            </div>
            <hr />
            <div class="mb-2 row">
                <div class="col-md-4">
                    <div class="font-weight-bold">Status: </div>
                </div>
                <div class="col-md-8">
                    @if (Model.Status == CustomEnums.TypoStatusClienteEnum.Pending)
                    {
                        <span class="a-yellow-link"><i class="fas fa-circle"></i> Pending</span>
                    }
                    @if (Model.Status == CustomEnums.TypoStatusClienteEnum.Aproved)
                    {
                        <span class="a-blue-link"><i class="far fa-check-circle"></i> Approved</span>
                    }
                    @if (Model.Status == CustomEnums.TypoStatusClienteEnum.Denied)
                    {
                        <span class="a-block-link"><i class="fas fa-times-circle"></i> Denied</span>
                    }
                </div>
            </div>
                <hr />
                <div class="mb-2">
                    @if (Model.Representantes != null)
                    {
                        @if (Model.Representantes.Count <= 0)
                        {
                            <div class="font-weight-bold">
                                No representantes
                            </div>
                            
                        }
                        else
                        {
                            <div class="font-weight-bold mb-2">Representantes:</div>
                                <table id="UserSellers"
                                       class="table table-striped table-responsive-lg"
                                       data-toggle="table"
                                       data-pagination="true"
                                       data-page-list="[5]"
                                       data-search-align="left">
                                <thead>
                                    <tr>
                                        <th data-sortable="true" data-field="Name" class="th-sortable">
                                            Name
                                        </th>
                                        <th>
                                            Typo Documento
                                        </th>
                                        <th>
                                            Documento Numero
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.Representantes)
                                    {
                                        <tr>
                                            <td>@item.FirstName @item.FirstLastName</td>
                                            <td>@item.TypoDocumento</td>
                                            <td>@item.NumeroDoc</td>
                                        </tr>
                                    }
                                </tbody>
                                </table>
                        }

                    }
                </div>
            <hr />
            <div class="mt-4 button-row text-center">
                <div class="row">
                    <div class="col-md-4">
                        @*<a href="#" class="btn btn-outline-success add-display-block">Approve</a>*@
                        <a onclick="return confirm('¿Estás seguro de que deseas aprobar a este usuario?')" 
                           class="btn btn-outline-success add-display-block" href="@Url.Action("ApprovePersona", "Persona", 
                                                                                  new { personId = Model.PersonId})">
                            Approved
                        </a>
                        @*@Html.ActionLink("Approve", "ApprovePersona", "Persona", new { personId = Model.PersonId}, new { @class = "btn btn-outline-success add-display-block" })*@
                    </div>
                    <div class="col-md-4">
                        @*<a href="#" class="btn btn-outline-danger add-display-block">Deny</a>*@
                        <a onclick="return confirm('¿Estás seguro de que deseas denegar a este usuario?')" 
                           class="btn btn-outline-danger add-display-block" href="@Url.Action("DenyPersona", "Persona", 
                                                                                 new { personId = Model.PersonId})">
                            Deny
                        </a>
                        @*@Html.ActionLink("Deny", "DenyPersona", "Persona", new { personId = Model.PersonId}, new { @class = "btn btn-outline-danger add-display-block" })*@
                    </div>
                    <div class="col-md-4">
                        @if (Model.Razonsocial == null)
                        {
                            @Html.ActionLink("Return to list", "PersonaFisica", "Persona", null, new { @class = "btn btn-outline-secondary add-display-block" })
                        }
                        else
                        {
                            @Html.ActionLink("Return to list", "PersonaJuridica", "Persona", null, new { @class = "btn btn-outline-secondary add-display-block" })
                        }
                    </div>
                    </div>
                </div>
        </div>

    </div>

</div>